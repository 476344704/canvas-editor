{{canvas-block-title
  block=titleBlock
  editingEnabled=editingEnabled
  hasContent=hasContent
  isMultiBlock=isMultiBlock
  fetchTemplates=fetchTemplates
  actionsComponent=titleActionsComponent
  bylineComponent=titleBylineComponent
  onBlockDeletedLocally=(action 'blockDeletedLocally')
  onBlockMetaReplacedLocally=(action 'blockMetaReplacedLocally')
  onBlockContentUpdatedLocally=(action 'blockContentUpdatedLocally')
  onDoubleSelectAll=(action 'doubleSelectAll')
  onMultiBlockSelectUp=(action 'multiBlockSelectUp')
  onMultiBlockSelectDown=(action 'multiBlockSelectDown')
  onNavigateDown=(action 'navigateDown')
  onNavigateLeft=(action 'navigateLeft')
  onNavigateRight=(action 'navigateRight')
  onNavigateUp=(action 'navigateUp')
  onNewBlockInsertedLocally=(action 'newBlockInsertedLocally')
  onTemplateApply=(action 'templateApply')}}

{{canvas-drop-bar afterBlockId=titleBlock.id}}

{{#each contentBlocks as |block|}}
  {{component (block-component-name block.type)
    block=block
    cardDidLoad=(action 'cardDidLoad')
    filterTerm=filterTerm
    canvasAPIURL=canvas.apiURL
    canvasID=canvas.id
    isMultiBlock=isMultiBlock
    isTemplate=canvas.isTemplate
    canvasLinkComponent=canvasLinkComponent
    githubAuthComponent=githubAuthComponent
    editingEnabled=editingEnabled
    changeBlockType=(action 'changeBlockType')
    fetchUploadSignature=fetchUploadSignature
    onBlockDeletedLocally=(action 'blockDeletedLocally')
    onBlockReplacedLocally=(action 'blockReplacedLocally')
    onDoubleSelectAll=(action 'doubleSelectAll')
    onMultiBlockSelectUp=(action 'multiBlockSelectUp')
    onMultiBlockSelectDown=(action 'multiBlockSelectDown')
    onNavigateDown=(action 'navigateDown')
    onNavigateLeft=(action 'navigateLeft')
    onNavigateRight=(action 'navigateRight')
    onNavigateUp=(action 'navigateUp')
    onBlockMetaReplacedLocally=(action 'blockMetaReplacedLocally')
    onBlockContentUpdatedLocally=(action 'blockContentUpdatedLocally')
    onBlockTypeUpdatedLocally=(action 'blockTypeUpdatedLocally')
    onNewBlockInsertedLocally=(action 'newBlockInsertedLocally')
    unfurl=(action 'unfurl')}}

  {{#unless block.blocks}}
    {{canvas-drop-bar afterBlockId=block.id adjustSpacing=true}}
  {{/unless}}
{{/each}}
