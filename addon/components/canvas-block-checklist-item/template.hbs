{{#if canvasLinkComponent}}
  {{component canvasLinkComponent
    blockID=block.id
    canvasID=canvasID
    class=styles.block-link
    filter=filterTerm}}
{{/if}}


<div class={{levelClass}} local-class="container">
  <div local-class="checkbox">
    {{ui-checkbox checked=(if (and checkboxes (not-eq (get checkboxes block.idx_i) undefined))
    (get checkboxes block.idx_i) block.meta.checked)
    onToggle=(if onCheckboxToggle (action onCheckboxToggle block.idx_i) (action 'onToggleChecked'))}}
  </div>

  <div local-class="content">
    {{canvas-block-checklist-item-content
      block=block
      editingEnabled=editingEnabled
      changeBlockType=changeBlockType
      isEditingPlaceholder=(mut isEditingPlaceholder)
      isMultiBlock=isMultiBlock
      isFocused=(mut isFocused)
      isTemplate=isTemplate
      symbolValues=symbolValues
      indentBlock=(action offsetLevel 1)
      unindentBlock=(action offsetLevel -1)
      onBlockDeletedLocally=onBlockDeletedLocally
      onBlockReplacedLocally=onBlockReplacedLocally
      onChunkInput=onChunkInput
      onCheckboxToggle=onCheckboxToggle
      onDoubleSelectAll=onDoubleSelectAll
      onDoubleSelectToEnd=onDoubleSelectToEnd
      onDoubleSelectToStart=onDoubleSelectToStart
      onRedo=onRedo
      onUndo=onUndo
      onMultiBlockSelectUp=onMultiBlockSelectUp
      onMultiBlockSelectDown=onMultiBlockSelectDown
      onNavigateDown=onNavigateDown
      onNavigateLeft=onNavigateLeft
      onNavigateRight=onNavigateRight
      onNavigateUp=onNavigateUp
      onSwapBlockUp=onSwapBlockUp
      onSwapBlockDown=onSwapBlockDown
      onBlockContentUpdatedLocally=onBlockContentUpdatedLocally
      onBlockTypeUpdatedLocally=onBlockTypeUpdatedLocally
      onNewBlockInsertedLocally=onNewBlockInsertedLocally
      pasteBlocksAfter=pasteBlocksAfter}}
  </div>
</div>

{{#if isEditingPlaceholder}}
  <div local-class="placeholder-editor">
    {{placeholder-editor
      block=block
      editingEnabled=editingEnabled
      isEditingPlaceholder=(mut isEditingPlaceholder)
      onBlockMetaReplacedLocally=onBlockMetaReplacedLocally}}
  </div>
{{/if}}