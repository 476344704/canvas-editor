{{#each filteredBlocks as |child|~}}
  {{#canvas-block-wrapper
    block=child
    canvasID=canvasID
    canvasLinkComponent=canvasLinkComponent
    comments=comments
    commentsEnabled=commentsEnabled
    commentThreadComponent=commentThreadComponent
    filter=filterTerm
    subscribeProps=subscribeProps as |wrapper| }}
    {{component (block-component-name child.type)
      block=child
      canvasID=canvasID
      editingEnabled=editingEnabled
      changeBlockType=changeBlockType
      isFocused=wrapper.isFocused
      isMultiBlock=isMultiBlock
      isTemplate=isTemplate
      onBlockDeletedLocally=onBlockDeletedLocally
      onBlurBlock=wrapper.onBlurBlock
      onDoubleSelectAll=onDoubleSelectAll
      onDoubleSelectToEnd=onDoubleSelectToEnd
      onDoubleSelectToStart=onDoubleSelectToStart
      onFocusBlock=wrapper.onFocusBlock
      onRedo=onRedo
      onUndo=onUndo
      onMultiBlockSelectUp=onMultiBlockSelectUp
      onMultiBlockSelectDown=onMultiBlockSelectDown
      onNavigateDown=onNavigateDown
      onNavigateLeft=onNavigateLeft
      onNavigateRight=onNavigateRight
      onNavigateUp=onNavigateUp
      onBlockMetaReplacedLocally=onBlockMetaReplacedLocally
      onBlockContentUpdatedLocally=onBlockContentUpdatedLocally
      onBlockTypeUpdatedLocally=onBlockTypeUpdatedLocally
      onNewBlockInsertedLocally=onNewBlockInsertedLocally
      onSwapBlockUp=onSwapBlockUp
      onSwapBlockDown=onSwapBlockDown
      pasteBlocksAfter=pasteBlocksAfter
      unfurl=unfurl}}
  {{/canvas-block-wrapper}}

  {{canvas-drop-bar afterBlockId=child.id}}
{{~/each}}
